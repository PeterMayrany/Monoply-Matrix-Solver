import java.util.Arrays;

public class PeterIsADumbBitch {

   static double[][] transitionMatrix = {
      {
         0.0244205169,
         0.0585361673,
         0.01376028807,
         0.04414223251,
         0.04010202332,
         0.08486582647,
         0.08097565158,
         0.1243141289,
         0.1760116598,
         0.121763546,
         0.1193844307,
         0.1218171296,
         0.06532921811,
         0.06927297668,
         0.02628815158,
         0.03013545953
      },
      {
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731
      },
      {
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022
      },
      {
         0.03335048011,
         0.004458161866,
         0.007030178326,
         0.005186899863,
         0.007716049383,
         0.005122599451,
         0.007631624078,
         0.005144032922,
         0.03474365569,
         0.03215020576,
         0.06104252401,
         0.08624828532,
         0.05958504801,
         0.05776320302,
         0.05962791495,
         0.03075703018
      },
      {
         0.1100394376,
         0.1861711248,
         0.1111539781,
         0.1722500857,
         0.2212193972,
         0.1571716392,
         0.1508916324,
         0.1439471879,
         0.09731867284,
         0.159486454,
         0.1122256516,
         0.1864604767,
         0.2211076818,
         0.1706854424,
         0.1775870199,
         0.1705997085
      },
      {
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096,
         0.115526406
      },
      {
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096
      },
      {
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706
      },
      {
         0.1724965706,
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048
      },
      {
         0.06104252401,
         0.08624828532,
         0.05958504801,
         0.05776320302,
         0.06227057033,
         0.03075703018,
         0.03335048011,
         0.004458161866,
         0.007030178326,
         0.005186899863,
         0.007716049383,
         0.005122599451,
         0.007630315501,
         0.005144032922,
         0.03474365569,
         0.03215020576
      },
      {
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139
      },
      {
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989,
         0.015260631,
         0.01028806584
      },
      { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
      {
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877,
         0.0102451989
      },
      {
         0.0102451989,
         0.015260631,
         0.01028806584,
         0.06948731139,
         0.06430041152,
         0.122085048,
         0.1724965706,
         0.119170096,
         0.115526406,
         0.1192558299,
         0.06151406036,
         0.06670096022,
         0.008916323731,
         0.01406035665,
         0.01037379973,
         0.01543209877
      },
      {
         0.03210733882,
         0.01247427984,
         0.01877572016,
         0.01288151578,
         0.07334533608,
         0.07967892661,
         0.1387602881,
         0.1747256516,
         0.1365419239,
         0.1307441701,
         0.1436042524,
         0.104638203,
         0.09649348422,
         0.03779792524,
         0.04387431413,
         0.02575231481
      }
   };

   static double[][] initialStateVector = new double[][] { { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } };

   public static void main(String[] args) {
      findS1();
   }

   public static void findS1() {

      double[][] finalMatrix = runSimulation(initialStateVector, transitionMatrix, 49);
      System.out.println("Final State vector: " + Arrays.deepToString(finalMatrix));
      printSum(finalMatrix);
   }

   static double[][] runSimulation(double[][] initialStateVector, double[][] transitionMatrix, int iterations) {
      //looping 100 times
      double[][] result = multiplyMatrices(initialStateVector, transitionMatrix);
      for (int i = 0; i < iterations; i++) {
         result = multiplyMatrices(result, transitionMatrix);
      }
      return result;
//      System.out.println("Final State vector: " + Arrays.deepToString(result));
   }

   static double[][] multiplyMatrices(double[][] a, double[][] b) {
      int rowsInA = a.length;
      int columnsInA = a[0].length; // same as rows in B
      int columnsInB = b[0].length;
      double[][] c = new double[rowsInA][columnsInB];
      for (int i = 0; i < rowsInA; i++) {
         for (int j = 0; j < columnsInB; j++) {
            for (int k = 0; k < columnsInA; k++) {
               c[i][j] = c[i][j] + a[i][k] * b[k][j];
            }
         }
      }
      return c;
   }

   static void printSum(double[][] array) {
      double sum = 0.0;
      //Advanced for loop
      for (double[] row : array) {
         for (double num : row) {
            sum = sum + num;
         }
      }
      System.out.println("The sum is: " + sum);
   }

}
